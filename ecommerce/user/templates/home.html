{% extends 'base.html' %}
{% load static %}
{% block content %} 
<br>
<div class="container-fluid">
<div id="demo" class="carousel slide" data-ride="carousel">
  
  <!-- The slideshow -->
  <div class="carousel-inner mr-auto ml-auto">
  {% for deal in deals %}
  {% if forloop.counter == 1 %}
    <div class="carousel-item active">
      <img class="img-fluid" src="{{ deal.img.url }}" alt="{{ deal.name }}" >
    </div>
	{% else %}
    <div class="carousel-item">
      <img class="img-fluid" src="{{ deal.img.url }}" alt="{{ deal.name }}">
    </div>
	{% endif %}
	{% endfor %}
  </div>

  <!-- Left and right controls -->
  <a class="carousel-control-prev" href="#demo" data-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </a>
  <a class="carousel-control-next" href="#demo" data-slide="next">
    <span class="carousel-control-next-icon"></span>
  </a>
</div>


<div class="container-fluid content-row">
  <div class="row">
{% for item in items %}
    <div class="col-sm-12 col-lg-4 pt-4">
    <div class="card" style="width: 25rem;">
    <img src="{{ item.img.url }}" class="card-img-top" alt="{{ item.name }}">
    <div class="card-body">
    <a href='{{ item.get_url }}' style='color: black;'>
    <h3 class="card-title">{{ item.name }}</h3>
    </a>
    <h4 style="color: red;">Price: {{ item.price }} rs</h4>
      <p class="card-text">{{ item.description|linebreaks|truncatewords:20 }}</p>
    {% include "update_cart.html" with item=item cart=cart %}
    </div>
    </div>
    </div>
{% endfor %}
  </div>
</div>
  
{% endblock %}

